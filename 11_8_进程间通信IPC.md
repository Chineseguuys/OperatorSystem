# IPC 进程间通信

> 进程通信的机制及同步
>
> 不使用共享变量的进程通信
>
> IPC facility 提供两个操作:
>
> * send(message) --- 消息的大小固定或者可变
> * receive(message)
>
> 如果 $P$ 和 $Q$ 需要进行通信:
>
> * 在它们之间建立通信链路
> * 通过 send/receive 交换消息
>
> 通信链路的实现:
>
> * 物理(共享内存,硬件总线)
> * 逻辑(逻辑属性)
>
>  

## 直接通信

进程必须正确的命名对方:

* send(P, message)
* receive(Q, message)

通信链路的属性

* 自动建立链路
* 一条链路恰好对应一对通信进程
* 每对进程之间只有一个链接存在
* 链接可以是单向的,但是通常是双向的

## 间接通信

定向从消息队列接收消息

* 每一个消息队列都有一个唯一的 ID
* 只有它们共享了一个消息队列,进程才能够通信

通信链路的属性

* 只有进程共享一个共同的消息队列,才建立链路
* 链接可以和多个进程相关连
* 每对进程可以共享多个通信链路
* 链接可以是单向的或者是双向的

操作

* 创建一个新的消息队列
* 通过消息队列来发送和接收消息
* 销毁消息队列

原语的定义

* send(A, message)   --- 将消息发送到 A
* receive(A, message) --- 从 A 中来提取消息



